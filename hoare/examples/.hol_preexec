
set -e

for vy in example_*.vy; do
  [ -e "$vy" ] || exit 0
  json="${vy%.vy}.json"
  if [ ! -e "$json" ] || [ "$vy" -nt "$json" ]; then
    echo "[preexec] generating $json"
    vyper "$vy" -f annotated_ast > "$json"
  fi
done
